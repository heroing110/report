(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{lwC9:function(t,a,n){"use strict";n.r(a);var e=n("CcnG"),l=function(){},o=n("82da"),r=n("pMnS"),i=n("8for"),u=n("aQKG"),c=n("rZLr"),s=n("XKqz"),p=n("We0v"),h=n("4CI1"),g=n("H6uK"),d=n("Cz+m"),f=n("x6z2"),m=n("FbL/"),y=n("wd/R"),b=n("LvDl"),v=n("cxyG"),C=n("jKh5"),Z=Object.assign||function(t){for(var a,n=1,e=arguments.length;n<e;n++)for(var l in a=arguments[n])Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l]);return t},w=function(){function t(t,a,n){this.homeService=t,this.commonDataService=a,this.trendService=n,this.dateRange=[],this.loading=!1,this.category="\u7535\u5546\u6574\u4f53"}return t.prototype.ngOnInit=function(){var t=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){var e=t.getDateRangeParam();return t.homeService.pagingAreaListview(Z({},e,{pageNo:a,pageSize:n}))},this.commonDataService.getIndexTypeList().then(function(a){t.categoryList=a.data})},t.prototype.setChartOption=function(){return t=this,void 0,n=function(){var t,a,n,e,l,o,r;return function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(i){switch(i.label){case 0:return this.loading=!0,[4,this.getChartData()];case 1:for(t=i.sent().data,a=Object(b.groupBy)(t,"city"),n=Object.keys(a),e=[],l=0;l<n.length;l++)o=a[n[l]]||[],r=Object(b.map)(o,"dateStr"),e.push({xAxis:[{type:"category",data:r,splitLine:{show:!1}}],yAxis:{name:"\u4ebf\u5143",type:"value"},series:[{name:"\u4ea4\u6613\u989d",type:"line",data:Object(b.map)(o,"totalVolume")}]});return this.dataChart.setOption({baseOption:{timeline:{controlStyle:{showPlayBtn:!1,show:!0},data:n,axisType:"category"},tooltip:{trigger:"axis"},calculable:!0,grid:{top:80,bottom:100}},options:e}),this.loading=!1,[2]}})},new((a=void 0)||(a=Promise))(function(e,l){function o(t){try{i(n.next(t))}catch(t){l(t)}}function r(t){try{i(n.throw(t))}catch(t){l(t)}}function i(t){t.done?e(t.value):new a(function(a){a(t.value)}).then(o,r)}i((n=n.apply(t,[])).next())});var t,a,n},t.prototype.getChartData=function(){var t=this.getDateRangeParam();return this.trendService.getTrendCoreCityLineData(Z({indexType:this.category||void 0},t))},t.prototype.createColumnVolumeConfigs=function(){return[{column:"dateStr",title:"\u65f6\u95f4"},{column:"province",title:"\u7701"},{column:"city",title:"\u5e02"},{column:"indexType",title:"\u6307\u6807\u7c7b\u578b"},{column:"total",title:"\u6307\u6807\u503c"},{column:"totalMom",title:"\u73af\u6bd4"}]},t.prototype.getDateRangeParam=function(){var t={dateBegin:void 0,dateEnd:void 0};if(this.dateRange&&2===this.dateRange.length){var a=[y(this.dateRange[0]).format("YYYY-MM"),y(this.dateRange[1]).format("YYYY-MM")],n=a[0],e=a[1];t.dateBegin=n+"-01",t.dateEnd=e+"-02",this.dateAreaStr=n+"-"+e}return t},t}(),R=e.Pa({encapsulation:0,styles:[[""]],data:{}});function x(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var e=!0,l=t.component;return"datesChange"===a&&(e=!1!==(l.dateRange=n)&&e),"datesChange"===a&&(e=!1!==l.setChartOption()&&e),e},i.b,i.a)),e.Qa(3,638976,null,0,u.a,[c.a],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8"]],null,[[null,"categoryChange"]],function(t,a,n){var e=!0,l=t.component;return"categoryChange"===a&&(e=!1!==(l.category=n)&&e),"categoryChange"===a&&(e=!1!==l.setChartOption()&&e),e},s.b,s.a)),e.Qa(5,114688,null,0,p.a,[h.a],{title:[0,"title"],category:[1,"category"],categoryList:[2,"categoryList"],hideCategoryAll:[3,"hideCategoryAll"],noPlatform:[4,"noPlatform"],noExportData:[5,"noExportData"],loading:[6,"loading"]},{categoryChange:"categoryChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,g.b,g.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,d.a,[c.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,s.b,s.a)),e.Qa(9,114688,null,0,p.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,f.b,f.a)),e.Qa(11,114688,null,0,m.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8",n.category,n.categoryList,!0,!0,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var S=e.Na("app-quick-view",w,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-quick-view",[],null,null,null,x,R)),e.Qa(1,114688,null,0,w,[v.a,h.a,C.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),D=Object.assign||function(t){for(var a,n=1,e=arguments.length;n<e;n++)for(var l in a=arguments[n])Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l]);return t},O=function(){function t(t,a,n){this.homeService=t,this.trendService=a,this.commonDataService=n,this.dateRange=[],this.category="\u7535\u5546\u6574\u4f53",this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){var e=t.getDateRangeParam();return t.homeService.pagingAreaListview(D({},e,{orderBy:"INDEX_VALUE",pageNo:a,pageSize:n}))},this.commonDataService.getIndexTypeList().then(function(a){t.categoryList=a.data})},t.prototype.setChartOption=function(){return t=this,void 0,n=function(){var t,a,n;return function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(e){switch(e.label){case 0:return[4,this.getChartData()];case 1:return t=e.sent().data,a=Object(b.map)(t,"city"),n=Object(b.map)(t,"totalVolume"),this.dataChart.setOption({xAxis:{type:"category",data:a},tooltip:{trigger:"axis"},yAxis:{name:"\u4ebf\u5143",type:"value"},dataZoom:[{startValue:a[0]},{type:"inside"}],series:[{name:"\u9500\u552e\u989d",data:n,type:"bar"}]}),this.loading=!1,[2]}})},new((a=void 0)||(a=Promise))(function(e,l){function o(t){try{i(n.next(t))}catch(t){l(t)}}function r(t){try{i(n.throw(t))}catch(t){l(t)}}function i(t){t.done?e(t.value):new a(function(a){a(t.value)}).then(o,r)}i((n=n.apply(t,[])).next())});var t,a,n},t.prototype.getChartData=function(){var t=this.getDateRangeParam();return this.trendService.getTrendCityLineData(D({},t,{indexType:this.category||void 0}))},t.prototype.createColumnVolumeConfigs=function(){var t=this;return[{column:"date",title:"\u65f6\u95f4",formatter:function(){return t.dateAreaStr}},{column:"province",title:"\u7701"},{column:"city",title:"\u5e02"},{column:"indexType",title:"\u6307\u6807\u7c7b\u578b"},{column:"total",title:"\u6307\u6807\u503c"}]},t.prototype.getDateRangeParam=function(){var t={dateBegin:void 0,dateEnd:void 0};if(this.dateRange&&2===this.dateRange.length){var a=[y(this.dateRange[0]).format("YYYY-MM"),y(this.dateRange[1]).format("YYYY-MM")],n=a[0],e=a[1];t.dateBegin=n+"-01",t.dateEnd=e+"-02",this.dateAreaStr=n+"-"+e}return t},t}(),P=e.Pa({encapsulation:0,styles:[[""]],data:{}});function k(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),e.hb(402653184,2,{dataTable:0}),(t()(),e.Ra(2,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(3,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var l=!0,o=t.component;return"datesChange"===a&&(l=!1!==(o.dateRange=n)&&l),"datesChange"===a&&(o.setChartOption(),l=!1!==e.bb(t,12).searchData(!0)&&l),l},i.b,i.a)),e.Qa(4,638976,null,0,u.a,[c.a],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(5,0,null,null,1,"app-common-operation",[["title","\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8"]],null,[[null,"categoryChange"]],function(t,a,n){var e=!0,l=t.component;return"categoryChange"===a&&(e=!1!==(l.category=n)&&e),"categoryChange"===a&&(e=!1!==l.setChartOption()&&e),e},s.b,s.a)),e.Qa(6,114688,null,0,p.a,[h.a],{title:[0,"title"],category:[1,"category"],categoryList:[2,"categoryList"],hideCategoryAll:[3,"hideCategoryAll"],noPlatform:[4,"noPlatform"],noExportData:[5,"noExportData"],loading:[6,"loading"]},{categoryChange:"categoryChange"}),(t()(),e.Ra(7,0,null,null,1,"app-data-chart",[],null,null,null,g.b,g.a)),e.Qa(8,4440064,[[1,4],["dataChart",4]],0,d.a,[c.a],{height:[0,"height"]},null),(t()(),e.Ra(9,0,null,null,1,"app-common-operation",[],null,null,null,s.b,s.a)),e.Qa(10,114688,null,0,p.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(11,0,null,null,1,"app-data-table",[],null,null,null,f.b,f.a)),e.Qa(12,114688,[[2,4],["dataTable",4]],0,m.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,4,0,n.dateRange),t(a,6,0,"\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8",n.category,n.categoryList,!0,!0,!0,n.loading),t(a,8,0,450),t(a,10,0,!0,!0),t(a,12,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var A=e.Na("app-contrast",O,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-contrast",[],null,null,null,k,P)),e.Qa(1,114688,null,0,O,[v.a,C.a,h.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),Y=n("1jmK"),j=Object.assign||function(t){for(var a,n=1,e=arguments.length;n<e;n++)for(var l in a=arguments[n])Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l]);return t},E=function(){function t(t){this.categoryService=t,this.dateRange=[],this.platform="",this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){var e=t.getDateRangeParam();return t.categoryService.areaCatListview(j({},e,{pageNo:a,pageSize:n}))}},t.prototype.setChartOption=function(){return t=this,void 0,n=function(){var t,a,n,e,l,o,r,i,u,c,s;return function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(p){switch(p.label){case 0:return this.loading=!0,[4,this.getChartData()];case 1:for(t=p.sent().data,a=Object(b.groupBy)(t,"city"),n=Object.keys(a),e=[],l=[{name:"\u9500\u91cf",key:"countPercent",yAxisIndex:0,type:"bar"},{name:"\u96f6\u552e\u989d",key:"salesPercent",yAxisIndex:1,type:"bar"}],o=0;o<n.length;o++){for(r=a[n[o]]||[],i=[],u=0;u<l.length;u++)i.push({name:(c=l[u]).name,yAxisIndex:c.yAxisIndex,type:c.type,data:Object(b.map)(r,c.key)});e.push({tooltip:{trigger:"axis"},xAxis:[{type:"category",data:Object(b.map)(r,"sCat1Name"),splitLine:{show:!1}}],series:i})}return e.length||e.push({tooltip:{trigger:"axis"},xAxis:[{type:"category",data:[],splitLine:{show:!1}}],series:[]}),s={baseOption:{timeline:{controlStyle:{showPlayBtn:!1,show:!0},data:n,axisType:"category"},legend:{data:Object(b.map)(l,"name")},calculable:!0,grid:{top:80,bottom:100},yAxis:[{type:"value",name:"\u9500\u91cf%"},{type:"value",name:"\u96f6\u552e\u989d%"}]},options:e},this.dataChart.setOption(s),this.loading=!1,[2]}})},new((a=void 0)||(a=Promise))(function(e,l){function o(t){try{i(n.next(t))}catch(t){l(t)}}function r(t){try{i(n.throw(t))}catch(t){l(t)}}function i(t){t.done?e(t.value):new a(function(a){a(t.value)}).then(o,r)}i((n=n.apply(t,[])).next())});var t,a,n},t.prototype.getChartData=function(){var t=this.getDateRangeParam();return this.categoryService.areaCatBar(j({platform:this.platform||void 0},t))},t.prototype.createColumnVolumeConfigs=function(){var t=this;return[{column:"date",title:"\u65f6\u95f4",formatter:function(){return t.dateAreaStr}},{column:"province",title:"\u7701"},{column:"city",title:"\u5e02"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"countPercent",title:"\u9500\u552e\u91cf\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t.prototype.getDateRangeParam=function(){var t={dateBegin:void 0,dateEnd:void 0};if(this.dateRange&&2===this.dateRange.length){var a=[y(this.dateRange[0]).format("YYYY-MM"),y(this.dateRange[1]).format("YYYY-MM")],n=a[0],e=a[1];t.dateBegin=n+"-01",t.dateEnd=e+"-02",this.dateAreaStr=n+"-"+e}return t},t}(),L=e.Pa({encapsulation:0,styles:[[""]],data:{}});function T(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var l=!0,o=t.component;return"datesChange"===a&&(l=!1!==(o.dateRange=n)&&l),"datesChange"===a&&(o.setChartOption(),l=!1!==e.bb(t,11).searchData(!0)&&l),l},i.b,i.a)),e.Qa(3,638976,null,0,u.a,[c.a],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u5404\u5730\u54c1\u7c7b\u6570\u636e\u5206\u6790"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.platform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},s.b,s.a)),e.Qa(5,114688,null,0,p.a,[h.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,g.b,g.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,d.a,[c.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,s.b,s.a)),e.Qa(9,114688,null,0,p.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,f.b,f.a)),e.Qa(11,114688,[["table",4]],0,m.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u5404\u5730\u54c1\u7c7b\u6570\u636e\u5206\u6790",!0,n.platform,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var V=e.Na("app-category",E,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-category",[],null,null,null,T,L)),e.Qa(1,114688,null,0,E,[Y.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),Q=n("V8c2"),q=Object.assign||function(t){for(var a,n=1,e=arguments.length;n<e;n++)for(var l in a=arguments[n])Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l]);return t},M=function(t,a,n,e){return new(n||(n=Promise))(function(l,o){function r(t){try{u(e.next(t))}catch(t){o(t)}}function i(t){try{u(e.throw(t))}catch(t){o(t)}}function u(t){t.done?l(t.value):new n(function(a){a(t.value)}).then(r,i)}u((e=e.apply(t,a||[])).next())})},B=function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},z=function(){function t(t){this.shopService=t,this.dateRange=[],this.platform="",this.loading=!1}return t.prototype.ngOnInit=function(){return M(this,void 0,void 0,function(){var t=this;return B(this,function(a){return this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){var e=t.getDateRangeParam();return t.shopService.pagingAreaShopListview(q({},e,{pageNo:a,pageSize:n}))},[2]})})},t.prototype.setChartOption=function(){return M(this,void 0,void 0,function(){var t,a,n,e,l,o,r;return B(this,function(i){switch(i.label){case 0:return this.loading=!0,[4,this.getChartData()];case 1:for(t=i.sent().data,a=Object(b.groupBy)(t,"city"),n=Object.keys(a),e=Object(b.chain)(t).map("range").uniq().value(),l=[],o=function(t){var o=e[t],r=[];n.forEach(function(t){var n=Object(b.find)(a[t],{range:o});r.push(n?n.shopCount:null)}),l.push({name:o,type:"bar",stack:"\u9500\u552e\u989d",label:{normal:{show:!1},emphasis:{show:!0,position:"insideRight"}},data:r})},r=0;r<e.length;r++)o(r);return this.dataChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:n},yAxis:{type:"value"},series:l}),this.loading=!1,[2]}})})},t.prototype.getChartData=function(){var t=this.getDateRangeParam();return this.shopService.areaShopLine(q({platform:this.platform||void 0},t))},t.prototype.createColumnVolumeConfigs=function(){var t=this;return[{column:"date",title:"\u65f6\u95f4",formatter:function(){return t.dateAreaStr}},{column:"province",title:"\u7701"},{column:"city",title:"\u5e02"},{column:"platform",title:"\u5e73\u53f0"},{column:"type",title:"\u9500\u552e\u989d\u533a\u95f4"},{column:"percent",title:"\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t.prototype.getDateRangeParam=function(){var t={dateBegin:void 0,dateEnd:void 0};if(this.dateRange&&2===this.dateRange.length){var a=[y(this.dateRange[0]).format("YYYY-MM"),y(this.dateRange[1]).format("YYYY-MM")],n=a[0],e=a[1];t.dateBegin=n+"-01",t.dateEnd=e+"-02",this.dateAreaStr=n+"-"+e}return t},t}(),F=e.Pa({encapsulation:0,styles:[[""]],data:{}});function I(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var l=!0,o=t.component;return"datesChange"===a&&(l=!1!==(o.dateRange=n)&&l),"datesChange"===a&&(o.setChartOption(),l=!1!==e.bb(t,11).searchData(!0)&&l),l},i.b,i.a)),e.Qa(3,638976,null,0,u.a,[c.a],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u533a\u57df\u5e97\u94fa\u4ea4\u6613\u989d\u5206\u5e03"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.platform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},s.b,s.a)),e.Qa(5,114688,null,0,p.a,[h.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,g.b,g.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,d.a,[c.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,s.b,s.a)),e.Qa(9,114688,null,0,p.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,f.b,f.a)),e.Qa(11,114688,[["table",4]],0,m.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u533a\u57df\u5e97\u94fa\u4ea4\u6613\u989d\u5206\u5e03",!0,n.platform,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var N=e.Na("app-store-sales-distribution",z,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-store-sales-distribution",[],null,null,null,I,F)),e.Qa(1,114688,null,0,z,[Q.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),G=n("Ip0R"),K=n("gIcY"),H=n("t/Na"),X=n("d5Ni"),J=n("M2Lx"),U=n("tn8F"),W=n("eDkP"),_=n("Fzqc"),$=n("4c35"),tt=n("dWZg"),at=n("qAlS"),nt=n("PCNd"),et=n("ZYCi"),lt=function(){};n.d(a,"DistrictAnalysisModuleNgFactory",function(){return ot});var ot=e.Oa(l,[],function(t){return e.Ya([e.Za(512,e.j,e.Ca,[[8,[o.A,o.B,o.C,o.D,o.E,o.F,o.G,r.a,S,A,V,N]],[3,e.j],e.w]),e.Za(4608,G.o,G.n,[e.t,[2,G.A]]),e.Za(4608,K.d,K.d,[]),e.Za(4608,K.q,K.q,[]),e.Za(4608,H.l,H.r,[G.d,e.A,H.p]),e.Za(4608,H.s,H.s,[H.l,H.q]),e.Za(5120,H.a,function(t){return[t,new X.a]},[H.s]),e.Za(4608,H.o,H.o,[]),e.Za(6144,H.m,null,[H.o]),e.Za(4608,H.k,H.k,[H.m]),e.Za(6144,H.b,null,[H.k]),e.Za(4608,H.g,H.n,[H.b,e.q]),e.Za(4608,H.c,H.c,[H.g]),e.Za(4608,J.c,J.c,[]),e.Za(5120,U.Ad,U.Cd,[[3,U.Ad],U.Bd]),e.Za(4608,G.e,G.e,[e.t]),e.Za(5120,U.ac,U.zc,[[3,U.ac],U.pd,U.Ad,G.e]),e.Za(4608,W.d,W.d,[W.k,W.f,e.j,W.i,W.g,e.q,e.y,G.d,_.b]),e.Za(5120,W.l,W.m,[W.d]),e.Za(5120,U.L,U.M,[G.d,[3,U.L]]),e.Za(4608,U.Y,U.Y,[]),e.Za(4608,U.Ta,U.Ta,[]),e.Za(4608,U.Zc,U.Zc,[W.d,e.q,e.j,e.g]),e.Za(4608,U.fd,U.fd,[W.d,e.q,e.j,e.g]),e.Za(4608,U.md,U.md,[[3,U.md]]),e.Za(4608,U.od,U.od,[W.d,U.Ad,U.md]),e.Za(1073742336,G.c,G.c,[]),e.Za(1073742336,K.o,K.o,[]),e.Za(1073742336,K.n,K.n,[]),e.Za(1073742336,K.f,K.f,[]),e.Za(1073742336,H.e,H.e,[]),e.Za(1073742336,H.d,H.d,[]),e.Za(1073742336,J.d,J.d,[]),e.Za(1073742336,U.e,U.e,[]),e.Za(1073742336,U.Fd,U.Fd,[]),e.Za(1073742336,U.Ed,U.Ed,[]),e.Za(1073742336,U.Hd,U.Hd,[]),e.Za(1073742336,_.a,_.a,[]),e.Za(1073742336,$.c,$.c,[]),e.Za(1073742336,tt.b,tt.b,[]),e.Za(1073742336,at.a,at.a,[]),e.Za(1073742336,W.h,W.h,[]),e.Za(1073742336,U.h,U.h,[]),e.Za(1073742336,U.ab,U.ab,[]),e.Za(1073742336,U.r,U.r,[]),e.Za(1073742336,U.w,U.w,[]),e.Za(1073742336,U.y,U.y,[]),e.Za(1073742336,U.H,U.H,[]),e.Za(1073742336,U.O,U.O,[]),e.Za(1073742336,U.J,U.J,[]),e.Za(1073742336,U.Q,U.Q,[]),e.Za(1073742336,U.S,U.S,[]),e.Za(1073742336,U.Z,U.Z,[]),e.Za(1073742336,U.Da,U.Da,[]),e.Za(1073742336,U.Fa,U.Fa,[]),e.Za(1073742336,U.Ia,U.Ia,[]),e.Za(1073742336,U.La,U.La,[]),e.Za(1073742336,U.Pa,U.Pa,[]),e.Za(1073742336,U.Ya,U.Ya,[]),e.Za(1073742336,U.Ra,U.Ra,[]),e.Za(1073742336,U.cb,U.cb,[]),e.Za(1073742336,U.eb,U.eb,[]),e.Za(1073742336,U.gb,U.gb,[]),e.Za(1073742336,U.ib,U.ib,[]),e.Za(1073742336,U.kb,U.kb,[]),e.Za(1073742336,U.mb,U.mb,[]),e.Za(1073742336,U.tb,U.tb,[]),e.Za(1073742336,U.yb,U.yb,[]),e.Za(1073742336,U.Bb,U.Bb,[]),e.Za(1073742336,U.Eb,U.Eb,[]),e.Za(1073742336,U.Ib,U.Ib,[]),e.Za(1073742336,U.Mb,U.Mb,[]),e.Za(1073742336,U.Ob,U.Ob,[]),e.Za(1073742336,U.Rb,U.Rb,[]),e.Za(1073742336,U.bc,U.bc,[]),e.Za(1073742336,U.Zb,U.Zb,[]),e.Za(1073742336,U.vc,U.vc,[]),e.Za(1073742336,U.xc,U.xc,[]),e.Za(1073742336,U.Gc,U.Gc,[]),e.Za(1073742336,U.Kc,U.Kc,[]),e.Za(1073742336,U.Oc,U.Oc,[]),e.Za(1073742336,U.Sc,U.Sc,[]),e.Za(1073742336,U.Uc,U.Uc,[]),e.Za(1073742336,U.ad,U.ad,[]),e.Za(1073742336,U.gd,U.gd,[]),e.Za(1073742336,U.id,U.id,[]),e.Za(1073742336,U.kd,U.kd,[]),e.Za(1073742336,U.qd,U.qd,[]),e.Za(1073742336,U.sd,U.sd,[]),e.Za(1073742336,U.ud,U.ud,[]),e.Za(1073742336,U.yd,U.yd,[]),e.Za(1073742336,U.b,U.b,[]),e.Za(1073742336,nt.a,nt.a,[]),e.Za(1073742336,et.m,et.m,[[2,et.s],[2,et.k]]),e.Za(1073742336,lt,lt,[]),e.Za(1073742336,l,l,[]),e.Za(256,H.p,"XSRF-TOKEN",[]),e.Za(256,H.q,"X-XSRF-TOKEN",[]),e.Za(256,U.Bd,!1,[]),e.Za(256,U.pd,void 0,[]),e.Za(256,U.Wc,{nzDuration:3e3,nzAnimate:!0,nzPauseOnHover:!0,nzMaxStack:7},[]),e.Za(256,U.dd,{nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0},[]),e.Za(256,U.a,nt.b,[]),e.Za(1024,et.i,function(){return[[{path:"",redirectTo:"quick-view"},{path:"quick-view",component:w},{path:"contrast",component:O},{path:"category",component:E},{path:"store-sales-distribution",component:z}]]},[])])})}}]);