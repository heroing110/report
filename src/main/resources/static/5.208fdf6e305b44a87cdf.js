(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{PPtP:function(a,n,e){"use strict";e.r(n);var t=e("CcnG"),l=function(){},o=e("82da"),u=e("pMnS"),r=e("8for"),i=e("aQKG"),c=e("XKqz"),d=e("We0v"),Z=e("4CI1"),m=e("x6z2"),p=e("FbL/"),g=e("t/Na"),s=function(){function a(a){this.http=a}return a.prototype.pagingShopView=function(a){return this.http.post("shop/listview",a).toPromise()},a.ngInjectableDef=t.T({factory:function(){return new a(t.X(g.c))},token:a,providedIn:"root"}),a}(),f=e("wd/R"),h=e("LvDl"),b=function(){function a(a){this.shopService=a,this.volumeParam={pageNo:1,pageSize:30,orderBy:"SALES_VOLUME",platform:null,sCat1Name:null},this.countParam={pageNo:1,pageSize:30,orderBy:"SALES_COUNT",platform:null,sCat1Name:null},this.loading=!1,this.loading2=!1,this.dateRange=[]}return a.prototype.ngOnInit=function(){var a=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.slaesCountConfigs=this.createColumnCountConfigs(),this.getSalesVolumeTableDataFn=function(){return a.loading=!0,a.shopService.pagingShopView(n(a.volumeParam)).then(function(n){return a.loading=!1,n.data.total=Math.min(n.data.total,a.volumeParam.pageSize),n})},this.getSlaesCountTableDataFn=function(){return a.loading2=!0,a.shopService.pagingShopView(n(a.countParam)).then(function(n){return a.loading2=!1,n.data.total=Math.min(n.data.total,a.countParam.pageSize),n})};var n=function(n){var e=Object(h.cloneDeep)(n);if(e.platform||delete e.platform,a.dateRange&&a.dateRange.length){var t=a.dateRange,l=t[1];e.dateBegin=f(t[0]).format("YYYY-MM")+"-01",e.dateEnd=f(l).format("YYYY-MM")+"-02"}else delete e.dateBegin,delete e.dateEnd;return e}},a.prototype.doQuery=function(a){a.searchData(!0)},a.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(a){return(a.year||"")+"-"+(a.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"shopName",title:"\u5e97\u94fa\u540d\u79f0"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(a,n){return(n||0)+"%"}}]},a.prototype.createColumnCountConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(a){return(a.year||"")+"-"+(a.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"shopName",title:"\u5e97\u94fa\u540d\u79f0"},{column:"countPercent",title:"\u9500\u552e\u91cf\u5360\u6bd4",formatter:function(a,n){return(n||0)+"%"}}]},a}(),C=t.Pa({encapsulation:0,styles:[[""]],data:{}});function S(a){return t.lb(0,[(a()(),t.Ra(0,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(a()(),t.Ra(1,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(a,n,e){var l=!0,o=a.component;return"datesChange"===n&&(l=!1!==(o.dateRange=e)&&l),"datesChange"===n&&(o.doQuery(t.bb(a,6)),l=!1!==o.doQuery(t.bb(a,10))&&l),l},r.b,r.a)),t.Qa(2,638976,null,0,i.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(a()(),t.Ra(3,0,null,null,1,"app-common-operation",[["title","\u9500\u552e\u989dTOP30\u5e97\u94fa"]],null,[[null,"platformChange"],[null,"chagned"]],function(a,n,e){var l=!0,o=a.component;return"platformChange"===n&&(l=!1!==(o.volumeParam.platform=e)&&l),"chagned"===n&&(l=!1!==o.doQuery(t.bb(a,6))&&l),l},c.b,c.a)),t.Qa(4,114688,null,0,d.a,[Z.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],loading:[3,"loading"]},{platformChange:"platformChange",chagned:"chagned"}),(a()(),t.Ra(5,0,null,null,1,"app-data-table",[],null,null,null,m.b,m.a)),t.Qa(6,114688,[["volumeTable",4]],0,p.a,[],{hideOnSinglePage:[0,"hideOnSinglePage"],columns:[1,"columns"],queryDataService:[2,"queryDataService"],pageSize:[3,"pageSize"]},null),(a()(),t.Ra(7,0,null,null,1,"app-common-operation",[["title","\u9500\u91cfTOP30\u5e97\u94fa"]],null,[[null,"platformChange"],[null,"chagned"]],function(a,n,e){var l=!0,o=a.component;return"platformChange"===n&&(l=!1!==(o.countParam.platform=e)&&l),"chagned"===n&&(l=!1!==o.doQuery(t.bb(a,10))&&l),l},c.b,c.a)),t.Qa(8,114688,null,0,d.a,[Z.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],loading:[3,"loading"]},{platformChange:"platformChange",chagned:"chagned"}),(a()(),t.Ra(9,0,null,null,1,"app-data-table",[],null,null,null,m.b,m.a)),t.Qa(10,114688,[["countTable",4]],0,p.a,[],{hideOnSinglePage:[0,"hideOnSinglePage"],columns:[1,"columns"],queryDataService:[2,"queryDataService"],pageSize:[3,"pageSize"]},null)],function(a,n){var e=n.component;a(n,2,0,e.dateRange),a(n,4,0,"\u9500\u552e\u989dTOP30\u5e97\u94fa",!0,e.volumeParam.platform,e.loading),a(n,6,0,!0,e.salesVolumeConfigs,e.getSalesVolumeTableDataFn,e.volumeParam.pageSize),a(n,8,0,"\u9500\u91cfTOP30\u5e97\u94fa",!0,e.countParam.platform,e.loading2),a(n,10,0,!0,e.slaesCountConfigs,e.getSlaesCountTableDataFn,e.countParam.pageSize)},null)}var v=t.Na("app-shop-analysis",b,function(a){return t.lb(0,[(a()(),t.Ra(0,0,null,null,1,"app-shop-analysis",[],null,null,null,S,C)),t.Qa(1,114688,null,0,b,[s],null,null)],function(a,n){a(n,1,0)},null)},{},{},[]),y=e("Ip0R"),P=e("gIcY"),z=e("d5Ni"),R=e("M2Lx"),D=e("tn8F"),N=e("eDkP"),O=e("Fzqc"),w=e("4c35"),T=e("dWZg"),Y=e("qAlS"),Q=e("PCNd"),q=e("ZYCi"),k=function(){};e.d(n,"ShopAnalysisModuleNgFactory",function(){return A});var A=t.Oa(l,[],function(a){return t.Ya([t.Za(512,t.j,t.Ca,[[8,[o.y,o.z,o.A,o.B,o.C,o.D,o.E,u.a,v]],[3,t.j],t.w]),t.Za(4608,y.o,y.n,[t.t,[2,y.A]]),t.Za(4608,P.c,P.c,[]),t.Za(4608,P.m,P.m,[]),t.Za(4608,g.l,g.r,[y.d,t.A,g.p]),t.Za(4608,g.s,g.s,[g.l,g.q]),t.Za(5120,g.a,function(a){return[a,new z.a]},[g.s]),t.Za(4608,g.o,g.o,[]),t.Za(6144,g.m,null,[g.o]),t.Za(4608,g.k,g.k,[g.m]),t.Za(6144,g.b,null,[g.k]),t.Za(4608,g.g,g.n,[g.b,t.q]),t.Za(4608,g.c,g.c,[g.g]),t.Za(4608,R.c,R.c,[]),t.Za(5120,D.zd,D.Bd,[[3,D.zd],D.Ad]),t.Za(4608,y.e,y.e,[t.t]),t.Za(5120,D.Zb,D.yc,[[3,D.Zb],D.od,D.zd,y.e]),t.Za(4608,N.d,N.d,[N.k,N.f,t.j,N.i,N.g,t.q,t.y,y.d,O.b]),t.Za(5120,N.l,N.m,[N.d]),t.Za(5120,D.K,D.L,[y.d,[3,D.K]]),t.Za(4608,D.X,D.X,[]),t.Za(4608,D.Sa,D.Sa,[]),t.Za(4608,D.Yc,D.Yc,[N.d,t.q,t.j,t.g]),t.Za(4608,D.ed,D.ed,[N.d,t.q,t.j,t.g]),t.Za(4608,D.ld,D.ld,[[3,D.ld]]),t.Za(4608,D.nd,D.nd,[N.d,D.zd,D.ld]),t.Za(1073742336,y.c,y.c,[]),t.Za(1073742336,P.l,P.l,[]),t.Za(1073742336,P.k,P.k,[]),t.Za(1073742336,P.e,P.e,[]),t.Za(1073742336,g.e,g.e,[]),t.Za(1073742336,g.d,g.d,[]),t.Za(1073742336,R.d,R.d,[]),t.Za(1073742336,D.d,D.d,[]),t.Za(1073742336,D.Ed,D.Ed,[]),t.Za(1073742336,D.Dd,D.Dd,[]),t.Za(1073742336,D.Gd,D.Gd,[]),t.Za(1073742336,O.a,O.a,[]),t.Za(1073742336,w.c,w.c,[]),t.Za(1073742336,T.b,T.b,[]),t.Za(1073742336,Y.a,Y.a,[]),t.Za(1073742336,N.h,N.h,[]),t.Za(1073742336,D.g,D.g,[]),t.Za(1073742336,D.Za,D.Za,[]),t.Za(1073742336,D.q,D.q,[]),t.Za(1073742336,D.v,D.v,[]),t.Za(1073742336,D.x,D.x,[]),t.Za(1073742336,D.G,D.G,[]),t.Za(1073742336,D.N,D.N,[]),t.Za(1073742336,D.I,D.I,[]),t.Za(1073742336,D.P,D.P,[]),t.Za(1073742336,D.R,D.R,[]),t.Za(1073742336,D.Y,D.Y,[]),t.Za(1073742336,D.Ca,D.Ca,[]),t.Za(1073742336,D.Ea,D.Ea,[]),t.Za(1073742336,D.Ha,D.Ha,[]),t.Za(1073742336,D.Ka,D.Ka,[]),t.Za(1073742336,D.Oa,D.Oa,[]),t.Za(1073742336,D.Xa,D.Xa,[]),t.Za(1073742336,D.Qa,D.Qa,[]),t.Za(1073742336,D.bb,D.bb,[]),t.Za(1073742336,D.db,D.db,[]),t.Za(1073742336,D.fb,D.fb,[]),t.Za(1073742336,D.hb,D.hb,[]),t.Za(1073742336,D.jb,D.jb,[]),t.Za(1073742336,D.lb,D.lb,[]),t.Za(1073742336,D.sb,D.sb,[]),t.Za(1073742336,D.xb,D.xb,[]),t.Za(1073742336,D.Ab,D.Ab,[]),t.Za(1073742336,D.Db,D.Db,[]),t.Za(1073742336,D.Hb,D.Hb,[]),t.Za(1073742336,D.Lb,D.Lb,[]),t.Za(1073742336,D.Nb,D.Nb,[]),t.Za(1073742336,D.Qb,D.Qb,[]),t.Za(1073742336,D.ac,D.ac,[]),t.Za(1073742336,D.Yb,D.Yb,[]),t.Za(1073742336,D.uc,D.uc,[]),t.Za(1073742336,D.wc,D.wc,[]),t.Za(1073742336,D.Fc,D.Fc,[]),t.Za(1073742336,D.Jc,D.Jc,[]),t.Za(1073742336,D.Nc,D.Nc,[]),t.Za(1073742336,D.Rc,D.Rc,[]),t.Za(1073742336,D.Tc,D.Tc,[]),t.Za(1073742336,D.Zc,D.Zc,[]),t.Za(1073742336,D.fd,D.fd,[]),t.Za(1073742336,D.hd,D.hd,[]),t.Za(1073742336,D.jd,D.jd,[]),t.Za(1073742336,D.pd,D.pd,[]),t.Za(1073742336,D.rd,D.rd,[]),t.Za(1073742336,D.td,D.td,[]),t.Za(1073742336,D.xd,D.xd,[]),t.Za(1073742336,D.b,D.b,[]),t.Za(1073742336,Q.a,Q.a,[]),t.Za(1073742336,q.m,q.m,[[2,q.s],[2,q.k]]),t.Za(1073742336,k,k,[]),t.Za(1073742336,l,l,[]),t.Za(256,g.p,"XSRF-TOKEN",[]),t.Za(256,g.q,"X-XSRF-TOKEN",[]),t.Za(256,D.Ad,!1,[]),t.Za(256,D.od,void 0,[]),t.Za(256,D.Vc,{nzDuration:3e3,nzAnimate:!0,nzPauseOnHover:!0,nzMaxStack:7},[]),t.Za(256,D.cd,{nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0},[]),t.Za(256,D.a,Q.b,[]),t.Za(1024,q.i,function(){return[[{path:"",component:b}]]},[])])})}}]);