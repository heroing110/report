(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"Y/YL":function(t,a,n){"use strict";n.r(a);var e=n("CcnG"),l=function(){},o=n("82da"),r=n("pMnS"),u=n("8for"),i=n("aQKG"),c=n("XKqz"),s=n("We0v"),h=n("4CI1"),p=n("H6uK"),m=n("Cz+m"),g=n("rZLr"),d=n("x6z2"),f=n("FbL/"),y=n("1jmK"),b=n("wd/R"),C=n("LvDl"),v=function(t,a,n,e){return new(n||(n=Promise))(function(l,o){function r(t){try{i(e.next(t))}catch(t){o(t)}}function u(t){try{i(e.throw(t))}catch(t){o(t)}}function i(t){t.done?l(t.value):new n(function(a){a(t.value)}).then(r,u)}i((e=e.apply(t,a||[])).next())})},Z=function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},S=function(){function t(t,a){this.categoryService=t,this.commonDataService=a,this.dateRange=[],this.salesPlatform="",this.countPlatform="",this.loading=!1,this.loading2=!1}return t.prototype.ngOnInit=function(){var t=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){return t.categoryService.pagingCatView({pageNo:a,pageSize:n})}},t.prototype.ngAfterViewInit=function(){return v(this,void 0,void 0,function(){var t;return Z(this,function(a){switch(a.label){case 0:return t=this,[4,this.commonDataService.getCategoryList()];case 1:return t.categoryList=a.sent().data,this.legendData=Object(C.map)(this.categoryList,"value"),this.setChartOption(),this.setChartOption2(),[2]}})})},t.prototype.setChartOption=function(){return v(this,void 0,void 0,function(){var t,a,n,e,l,o,r;return Z(this,function(u){switch(u.label){case 0:return this.salesDataChart1&&this.salesDataChart2&&this.categoryList?(this.loading=!0,[4,this.getChartData(this.salesPlatform)]):[2];case 1:for(t=u.sent().data,a=[],n=0,e=0;e<this.legendData.length;e++)l=this.legendData[e],o=Object(C.find)(t,{sCat1Name:l})||{},a.push({value:o.totalVolume||0,name:l}),n+=o.totalVolume||0;return this.salesDataChart1.setOption({title:{text:"\u9500\u552e\u989d \n "+n,y:"center",x:"center",textStyle:{align:"center"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:30,top:20,data:this.legendData},series:[{name:"\u9500\u552e\u989d",type:"pie",radius:["40%","55%"],label:{normal:{show:!1},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:a}]}),r={xAxis:{type:"category",data:this.legendData},tooltip:{formatter:"{a} <br> {b}:{c}%"},yAxis:[{type:"value",axisLabel:{show:!0,interval:0,showMinLabel:!0,formatter:"{value} %"},min:0,max:100}],series:[{name:"\u9500\u552e\u989d",data:Object(C.map)(a,"value").map(function(t){return t/n*100}),type:"bar"}]},this.salesDataChart2.setOption(r),this.loading=!1,[2]}})})},t.prototype.setChartOption2=function(){return v(this,void 0,void 0,function(){var t,a,n,e,l,o,r;return Z(this,function(u){switch(u.label){case 0:return this.countDataChart1&&this.countDataChart2&&this.categoryList?(this.loading2=!0,[4,this.getChartData(this.countPlatform)]):[2];case 1:for(t=u.sent().data,a=[],n=0,e=0;e<this.legendData.length;e++)l=this.legendData[e],o=Object(C.find)(t,{sCat1Name:l})||{},a.push({value:o.totalCount||0,name:l}),n+=o.totalCount||0;return this.countDataChart1.setOption({title:{text:"\u9500\u552e\u91cf \n "+n,y:"center",x:"center",textStyle:{align:"center"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:30,top:20,data:this.legendData},series:[{name:"\u9500\u91cf",type:"pie",radius:["40%","55%"],label:{normal:{show:!1},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:a}]}),r={xAxis:{type:"category",data:this.legendData},tooltip:{formatter:"{a} <br> {b}:{c}%"},yAxis:{type:"value",axisLabel:{show:!0,interval:0,showMinLabel:!0,formatter:"{value} %"},min:0,max:100},series:[{name:"\u9500\u552e\u91cf",data:Object(C.map)(a,"value").map(function(t){return t/n*100}),type:"bar"}]},this.countDataChart2.setOption(r),this.loading2=!1,[2]}})})},t.prototype.getChartData=function(t){var a=this.dateRange,n=a[1];return this.categoryService.catWholeList({platform:t||void 0,dateBegin:b(a[0]).format("YYYY-MM")+"-01",dateEnd:b(n).format("YYYY-MM")+"-02"})},t.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u54c1\u7c7b"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}},{column:"countPercent",title:"\u9500\u552e\u91cf\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t}(),w=e.Pa({encapsulation:0,styles:[[""]],data:{}});function D(t){return e.lb(0,[e.hb(402653184,1,{salesDataChart1:0}),e.hb(402653184,2,{salesDataChart2:0}),e.hb(402653184,3,{countDataChart1:0}),e.hb(402653184,4,{countDataChart2:0}),(t()(),e.Ra(4,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(5,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var e=!0,l=t.component;return"datesChange"===a&&(e=!1!==(l.dateRange=n)&&e),"datesChange"===a&&(l.setChartOption(),e=!1!==l.setChartOption2()&&e),e},u.b,u.a)),e.Qa(6,638976,null,0,i.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(7,0,null,null,1,"app-common-operation",[["title","\u4e00\u7ea7\u54c1\u7c7b\u9500\u552e\u989d\u5360\u6bd4"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.salesPlatform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},c.b,c.a)),e.Qa(8,114688,null,0,s.a,[h.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(9,0,null,null,6,"div",[["layout","row"]],null,null,null,null,null)),(t()(),e.Ra(10,0,null,null,2,"div",[["flex",""]],null,null,null,null,null)),(t()(),e.Ra(11,0,null,null,1,"app-data-chart",[],null,null,null,p.b,p.a)),e.Qa(12,4440064,[[1,4],["salesDataChart1",4]],0,m.a,[g.a],{height:[0,"height"]},null),(t()(),e.Ra(13,0,null,null,2,"div",[["flex",""]],null,null,null,null,null)),(t()(),e.Ra(14,0,null,null,1,"app-data-chart",[],null,null,null,p.b,p.a)),e.Qa(15,4440064,[[2,4],["salesDataChart2",4]],0,m.a,[g.a],{height:[0,"height"]},null),(t()(),e.Ra(16,0,null,null,1,"app-common-operation",[["title","\u4e00\u7ea7\u54c1\u7c7b\u9500\u91cf\u5360\u6bd4"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.countPlatform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption2()&&e),e},c.b,c.a)),e.Qa(17,114688,null,0,s.a,[h.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(18,0,null,null,6,"div",[["layout","row"]],null,null,null,null,null)),(t()(),e.Ra(19,0,null,null,2,"div",[["flex",""]],null,null,null,null,null)),(t()(),e.Ra(20,0,null,null,1,"app-data-chart",[],null,null,null,p.b,p.a)),e.Qa(21,4440064,[[3,4],["countDataChart1",4]],0,m.a,[g.a],{height:[0,"height"]},null),(t()(),e.Ra(22,0,null,null,2,"div",[["flex",""]],null,null,null,null,null)),(t()(),e.Ra(23,0,null,null,1,"app-data-chart",[],null,null,null,p.b,p.a)),e.Qa(24,4440064,[[4,4],["countDataChart2",4]],0,m.a,[g.a],{height:[0,"height"]},null),(t()(),e.Ra(25,0,null,null,1,"app-common-operation",[],null,null,null,c.b,c.a)),e.Qa(26,114688,null,0,s.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(27,0,null,null,1,"app-data-table",[],null,null,null,d.b,d.a)),e.Qa(28,114688,null,0,f.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,6,0,n.dateRange),t(a,8,0,"\u4e00\u7ea7\u54c1\u7c7b\u9500\u552e\u989d\u5360\u6bd4",!0,n.salesPlatform,!0,n.loading),t(a,12,0,450),t(a,15,0,450),t(a,17,0,"\u4e00\u7ea7\u54c1\u7c7b\u9500\u91cf\u5360\u6bd4",!0,n.countPlatform,!0,n.loading2),t(a,21,0,450),t(a,24,0,450),t(a,26,0,!0,!0),t(a,28,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var x=e.Na("app-whole",S,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-whole",[],null,null,null,D,w)),e.Qa(1,4308992,null,0,S,[y.a,h.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),R=function(){function t(t){this.categoryService=t,this.dateRange=[],this.platform="",this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){return t.categoryService.pagingCatView({pageNo:a,pageSize:n})}},t.prototype.setChartOption=function(){return t=this,void 0,n=function(){function t(t,a,n){var e={name:t[n],id:y++,value:t.mSlaesCount,children:[]};return a.children?a.children.push(e):Array.isArray(a)&&a.push(e),e}var a,n,e,l,o,r,u,i,c,s,h,p,m,g,d,f,y;return function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,function(b){switch(b.label){case 0:return this.dataChart?(this.loading=!0,[4,this.getChartData(this.platform)]):[2];case 1:for(a=b.sent().data,n=[],e=Object(C.chain)(a).uniqBy("sCat1Name").value(),l=0;l<e.length;l++)for(r=t(o=e[l],n,"sCat1Name"),u=Object(C.chain)(a).filter({sCat1Name:o.sCat1Name}).uniqBy("cat1Name").value(),i=0;i<u.length;i++)for(s=t(c=u[i],r,"cat2Name"),h=Object(C.chain)(a).filter({cat1Name:c.cat1Name}).uniqBy("cat2Name").value(),p=0;p<h.length;p++)for(g=t(m=h[p],s,"cat2Name"),d=Object(C.chain)(a).filter({cat2Name:m.cat2Name}).value(),f=0;f<d.length;f++)t(d[f],g,"cat3Name");return function t(a){for(var n=0,e=0;e<a.length;e++){var l=a[e];l.children&&l.children.length?l.value=t(l.children):l.children=null,n+=l.value}return n}(n),y=1,this.dataChart.setOption({series:[{type:"treemap",data:n,leafDepth:1,levels:[{itemStyle:{normal:{borderWidth:4,gapWidth:4}}},{colorSaturation:[.3,.6],itemStyle:{normal:{borderColorSaturation:.7,gapWidth:2,borderWidth:2}}},{colorSaturation:[.3,.5],itemStyle:{normal:{borderColorSaturation:.6,gapWidth:1}}},{colorSaturation:[.3,.5]}]}]}),this.loading=!1,[2]}})},new((a=void 0)||(a=Promise))(function(e,l){function o(t){try{u(n.next(t))}catch(t){l(t)}}function r(t){try{u(n.throw(t))}catch(t){l(t)}}function u(t){t.done?e(t.value):new a(function(a){a(t.value)}).then(o,r)}u((n=n.apply(t,[])).next())});var t,a,n},t.prototype.getChartData=function(t){var a=this.dateRange,n=a[1];return this.categoryService.catSubdivisionTree({platform:t||void 0,dateBegin:b(a[0]).format("YYYY-MM")+"-01",dateEnd:b(n).format("YYYY-MM")+"-02"})},t.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"cat1Name",title:"\u4e8c\u7ea7\u54c1\u7c7b"},{column:"cat2Name",title:"\u4e09\u7ea7\u54c1\u7c7b"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t}(),P=e.Pa({encapsulation:0,styles:[[""]],data:{}});function O(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var e=!0,l=t.component;return"datesChange"===a&&(e=!1!==(l.dateRange=n)&&e),"datesChange"===a&&(e=!1!==l.setChartOption()&&e),e},u.b,u.a)),e.Qa(3,638976,null,0,i.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u7ec6\u5206\u54c1\u7c7b\u63a2\u67e5"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.platform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},c.b,c.a)),e.Qa(5,114688,null,0,s.a,[h.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,p.b,p.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,m.a,[g.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,c.b,c.a)),e.Qa(9,114688,null,0,s.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,d.b,d.a)),e.Qa(11,114688,null,0,f.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u7ec6\u5206\u54c1\u7c7b\u63a2\u67e5",!0,n.platform,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var N=e.Na("app-subdivision",R,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-subdivision",[],null,null,null,O,P)),e.Qa(1,114688,null,0,R,[y.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),Y=function(t,a,n,e){return new(n||(n=Promise))(function(l,o){function r(t){try{i(e.next(t))}catch(t){o(t)}}function u(t){try{i(e.throw(t))}catch(t){o(t)}}function i(t){t.done?l(t.value):new n(function(a){a(t.value)}).then(r,u)}i((e=e.apply(t,a||[])).next())})},Q=function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},V=function(){function t(t,a){this.categoryService=t,this.commonDataService=a,this.dateRange=[],this.platform="",this.loading=!1}return t.prototype.ngOnInit=function(){return Y(this,void 0,void 0,function(){var t=this;return Q(this,function(a){return this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){return t.categoryService.pagingCatView({pageNo:a,pageSize:n})},[2]})})},t.prototype.ngAfterViewInit=function(){return Y(this,void 0,void 0,function(){var t;return Q(this,function(a){switch(a.label){case 0:return t=this,[4,this.commonDataService.getCategoryList()];case 1:return t.categoryList=a.sent().data,this.setChartOption(),[2]}})})},t.prototype.setChartOption=function(){return Y(this,void 0,void 0,function(){var t,a,n,e,l,o,r,u,i,c;return Q(this,function(s){switch(s.label){case 0:return this.categoryList&&this.categoryList.length?(this.loading=!0,[4,this.getChartData()]):[2];case 1:for(t=s.sent().data,a=Object(C.groupBy)(t,"sCat1Name"),n=[],e=[{name:"\u96f6\u9500\u91cf",key:"countPercent",yAxisIndex:0,type:"bar"},{name:"\u96f6\u552e\u989d",key:"salesPercent",yAxisIndex:1,type:"bar"}],l=0;l<this.categoryList.length;l++){for(o=a[this.categoryList[l].value]||[],r=[],u=0;u<e.length;u++)r.push({name:(i=e[u]).name,yAxisIndex:i.yAxisIndex,type:i.type,data:Object(C.map)(o,i.key)});n.push({xAxis:[{type:"category",data:Object(C.map)(o,"city"),splitLine:{show:!1}}],series:r})}return c={baseOption:{timeline:{controlStyle:{showPlayBtn:!1,show:!0},data:Object(C.map)(this.categoryList,"value"),axisType:"category"},legend:{data:Object(C.map)(e,"name")},tooltip:{trigger:"axis",formatter:"{a}:{c}% <br/> {a1}:{c1}%"},calculable:!0,grid:{top:80,bottom:100},yAxis:[{type:"value",name:"\u96f6\u552e\u91cf%"},{type:"value",name:"\u96f6\u552e\u989d%"}]},options:n},this.dataChart.setOption(c),this.loading=!1,[2]}})})},t.prototype.getChartData=function(){var t=this.dateRange,a=t[1];return this.categoryService.catView({platform:this.platform||void 0,dateBegin:b(t[0]).format("YYYY-MM")+"-01",dateEnd:b(a).format("YYYY-MM")+"-02"})},t.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"city",title:"\u57ce\u5e02"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t}(),L=e.Pa({encapsulation:0,styles:[[""]],data:{}});function T(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var e=!0,l=t.component;return"datesChange"===a&&(e=!1!==(l.dateRange=n)&&e),"datesChange"===a&&(e=!1!==l.setChartOption()&&e),e},u.b,u.a)),e.Qa(3,638976,null,0,i.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u7ec6\u5206\u54c1\u7c7b\u63a2\u67e5"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.platform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},c.b,c.a)),e.Qa(5,114688,null,0,s.a,[h.a],{title:[0,"title"],noCategory:[1,"noCategory"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,p.b,p.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,m.a,[g.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,c.b,c.a)),e.Qa(9,114688,null,0,s.a,[h.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,d.b,d.a)),e.Qa(11,114688,null,0,f.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u7ec6\u5206\u54c1\u7c7b\u63a2\u67e5",!0,n.platform,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var k=e.Na("app-category-area",V,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-category-area",[],null,null,null,T,L)),e.Qa(1,4308992,null,0,V,[y.a,h.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),M=n("t/Na"),z=function(){function t(t){this.http=t}return t.prototype.pagingCatShopView=function(t){return this.http.post("catShop/listview",t).toPromise()},t.ngInjectableDef=e.T({factory:function(){return new t(e.X(M.c))},token:t,providedIn:"root"}),t}(),A=function(){function t(t){this.catShopService=t,this.volumeParam={pageNo:1,pageSize:10,orderBy:"M_SALES_VOLUME",platform:null,sCat1Name:null},this.countParam={pageNo:1,pageSize:10,orderBy:"M_SLAES_COUNT",platform:null,sCat1Name:null},this.loading=!1,this.loading2=!1,this.dateRange=[]}return t.prototype.ngOnInit=function(){var t=this;this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.slaesCountConfigs=this.createColumnCountConfigs(),this.getSalesVolumeTableDataFn=function(){return t.loading=!0,t.catShopService.pagingCatShopView(a(t.volumeParam)).then(function(a){return t.loading=!1,a.data.total=Math.min(a.data.total,t.volumeParam.pageSize),a})},this.getSlaesCountTableDataFn=function(){return t.loading2=!0,t.catShopService.pagingCatShopView(a(t.countParam)).then(function(a){return t.loading2=!1,a.data.total=Math.min(a.data.total,t.countParam.pageSize),a})};var a=function(a){var n=Object(C.cloneDeep)(a);if(n.platform||delete n.platform,n.sCat1Name||delete n.sCat1Name,t.dateRange&&t.dateRange.length){var e=t.dateRange,l=e[1];n.dateBegin=b(e[0]).format("YYYY-MM")+"-01",n.dateEnd=b(l).format("YYYY-MM")+"-02"}else delete n.dateBegin,delete n.dateEnd;return n}},t.prototype.doQuery=function(t){t.searchData(!0)},t.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"shopName",title:"\u5e97\u94fa\u540d\u79f0"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t.prototype.createColumnCountConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"shopName",title:"\u5e97\u94fa\u540d\u79f0"},{column:"countPercent",title:"\u9500\u552e\u91cf\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t}(),j=e.Pa({encapsulation:0,styles:[[""]],data:{}});function E(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(1,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var l=!0,o=t.component;return"datesChange"===a&&(l=!1!==(o.dateRange=n)&&l),"datesChange"===a&&(o.doQuery(e.bb(t,6)),l=!1!==o.doQuery(e.bb(t,10))&&l),l},u.b,u.a)),e.Qa(2,638976,null,0,i.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(3,0,null,null,1,"app-common-operation",[["title","\u5404\u54c1\u7c7b\u4e0b\u9500\u552e\u989dTOP10\u5e97\u94fa"]],null,[[null,"platformChange"],[null,"categoryChange"],[null,"chagned"]],function(t,a,n){var l=!0,o=t.component;return"platformChange"===a&&(l=!1!==(o.volumeParam.platform=n)&&l),"categoryChange"===a&&(l=!1!==(o.volumeParam.sCat1Name=n)&&l),"chagned"===a&&(l=!1!==o.doQuery(e.bb(t,6))&&l),l},c.b,c.a)),e.Qa(4,114688,null,0,s.a,[h.a],{title:[0,"title"],category:[1,"category"],platform:[2,"platform"],loading:[3,"loading"]},{categoryChange:"categoryChange",platformChange:"platformChange",chagned:"chagned"}),(t()(),e.Ra(5,0,null,null,1,"app-data-table",[],null,null,null,d.b,d.a)),e.Qa(6,114688,[["volumeTable",4]],0,f.a,[],{hideOnSinglePage:[0,"hideOnSinglePage"],columns:[1,"columns"],queryDataService:[2,"queryDataService"]},null),(t()(),e.Ra(7,0,null,null,1,"app-common-operation",[["title","\u5404\u54c1\u7c7b\u4e0b\u9500\u91cfTOP10\u5e97\u94fa"]],null,[[null,"platformChange"],[null,"categoryChange"],[null,"chagned"]],function(t,a,n){var l=!0,o=t.component;return"platformChange"===a&&(l=!1!==(o.countParam.platform=n)&&l),"categoryChange"===a&&(l=!1!==(o.countParam.sCat1Name=n)&&l),"chagned"===a&&(l=!1!==o.doQuery(e.bb(t,10))&&l),l},c.b,c.a)),e.Qa(8,114688,null,0,s.a,[h.a],{title:[0,"title"],category:[1,"category"],platform:[2,"platform"],loading:[3,"loading"]},{categoryChange:"categoryChange",platformChange:"platformChange",chagned:"chagned"}),(t()(),e.Ra(9,0,null,null,1,"app-data-table",[],null,null,null,d.b,d.a)),e.Qa(10,114688,[["countTable",4]],0,f.a,[],{hideOnSinglePage:[0,"hideOnSinglePage"],columns:[1,"columns"],queryDataService:[2,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,2,0,n.dateRange),t(a,4,0,"\u5404\u54c1\u7c7b\u4e0b\u9500\u552e\u989dTOP10\u5e97\u94fa",n.volumeParam.sCat1Name,n.volumeParam.platform,n.loading),t(a,6,0,!0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn),t(a,8,0,"\u5404\u54c1\u7c7b\u4e0b\u9500\u91cfTOP10\u5e97\u94fa",n.countParam.sCat1Name,n.countParam.platform,n.loading2),t(a,10,0,!0,n.slaesCountConfigs,n.getSlaesCountTableDataFn)},null)}var q=e.Na("app-category-top-shop",A,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-category-top-shop",[],null,null,null,E,j)),e.Qa(1,114688,null,0,A,[z],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),F=n("Ip0R"),I=n("gIcY"),B=n("d5Ni"),K=n("M2Lx"),G=n("tn8F"),X=n("eDkP"),W=n("Fzqc"),H=n("4c35"),J=n("dWZg"),_=n("qAlS"),U=n("PCNd"),$=n("ZYCi"),tt=function(){};n.d(a,"CategoryAnalysisModuleNgFactory",function(){return at});var at=e.Oa(l,[],function(t){return e.Ya([e.Za(512,e.j,e.Ca,[[8,[o.y,o.z,o.A,o.B,o.C,o.D,o.E,r.a,x,N,k,q]],[3,e.j],e.w]),e.Za(4608,F.o,F.n,[e.t,[2,F.A]]),e.Za(4608,I.c,I.c,[]),e.Za(4608,I.m,I.m,[]),e.Za(4608,M.l,M.r,[F.d,e.A,M.p]),e.Za(4608,M.s,M.s,[M.l,M.q]),e.Za(5120,M.a,function(t){return[t,new B.a]},[M.s]),e.Za(4608,M.o,M.o,[]),e.Za(6144,M.m,null,[M.o]),e.Za(4608,M.k,M.k,[M.m]),e.Za(6144,M.b,null,[M.k]),e.Za(4608,M.g,M.n,[M.b,e.q]),e.Za(4608,M.c,M.c,[M.g]),e.Za(4608,K.c,K.c,[]),e.Za(5120,G.zd,G.Bd,[[3,G.zd],G.Ad]),e.Za(4608,F.e,F.e,[e.t]),e.Za(5120,G.Zb,G.yc,[[3,G.Zb],G.od,G.zd,F.e]),e.Za(4608,X.d,X.d,[X.k,X.f,e.j,X.i,X.g,e.q,e.y,F.d,W.b]),e.Za(5120,X.l,X.m,[X.d]),e.Za(5120,G.K,G.L,[F.d,[3,G.K]]),e.Za(4608,G.X,G.X,[]),e.Za(4608,G.Sa,G.Sa,[]),e.Za(4608,G.Yc,G.Yc,[X.d,e.q,e.j,e.g]),e.Za(4608,G.ed,G.ed,[X.d,e.q,e.j,e.g]),e.Za(4608,G.ld,G.ld,[[3,G.ld]]),e.Za(4608,G.nd,G.nd,[X.d,G.zd,G.ld]),e.Za(1073742336,F.c,F.c,[]),e.Za(1073742336,I.l,I.l,[]),e.Za(1073742336,I.k,I.k,[]),e.Za(1073742336,I.e,I.e,[]),e.Za(1073742336,M.e,M.e,[]),e.Za(1073742336,M.d,M.d,[]),e.Za(1073742336,K.d,K.d,[]),e.Za(1073742336,G.d,G.d,[]),e.Za(1073742336,G.Ed,G.Ed,[]),e.Za(1073742336,G.Dd,G.Dd,[]),e.Za(1073742336,G.Gd,G.Gd,[]),e.Za(1073742336,W.a,W.a,[]),e.Za(1073742336,H.c,H.c,[]),e.Za(1073742336,J.b,J.b,[]),e.Za(1073742336,_.a,_.a,[]),e.Za(1073742336,X.h,X.h,[]),e.Za(1073742336,G.g,G.g,[]),e.Za(1073742336,G.Za,G.Za,[]),e.Za(1073742336,G.q,G.q,[]),e.Za(1073742336,G.v,G.v,[]),e.Za(1073742336,G.x,G.x,[]),e.Za(1073742336,G.G,G.G,[]),e.Za(1073742336,G.N,G.N,[]),e.Za(1073742336,G.I,G.I,[]),e.Za(1073742336,G.P,G.P,[]),e.Za(1073742336,G.R,G.R,[]),e.Za(1073742336,G.Y,G.Y,[]),e.Za(1073742336,G.Ca,G.Ca,[]),e.Za(1073742336,G.Ea,G.Ea,[]),e.Za(1073742336,G.Ha,G.Ha,[]),e.Za(1073742336,G.Ka,G.Ka,[]),e.Za(1073742336,G.Oa,G.Oa,[]),e.Za(1073742336,G.Xa,G.Xa,[]),e.Za(1073742336,G.Qa,G.Qa,[]),e.Za(1073742336,G.bb,G.bb,[]),e.Za(1073742336,G.db,G.db,[]),e.Za(1073742336,G.fb,G.fb,[]),e.Za(1073742336,G.hb,G.hb,[]),e.Za(1073742336,G.jb,G.jb,[]),e.Za(1073742336,G.lb,G.lb,[]),e.Za(1073742336,G.sb,G.sb,[]),e.Za(1073742336,G.xb,G.xb,[]),e.Za(1073742336,G.Ab,G.Ab,[]),e.Za(1073742336,G.Db,G.Db,[]),e.Za(1073742336,G.Hb,G.Hb,[]),e.Za(1073742336,G.Lb,G.Lb,[]),e.Za(1073742336,G.Nb,G.Nb,[]),e.Za(1073742336,G.Qb,G.Qb,[]),e.Za(1073742336,G.ac,G.ac,[]),e.Za(1073742336,G.Yb,G.Yb,[]),e.Za(1073742336,G.uc,G.uc,[]),e.Za(1073742336,G.wc,G.wc,[]),e.Za(1073742336,G.Fc,G.Fc,[]),e.Za(1073742336,G.Jc,G.Jc,[]),e.Za(1073742336,G.Nc,G.Nc,[]),e.Za(1073742336,G.Rc,G.Rc,[]),e.Za(1073742336,G.Tc,G.Tc,[]),e.Za(1073742336,G.Zc,G.Zc,[]),e.Za(1073742336,G.fd,G.fd,[]),e.Za(1073742336,G.hd,G.hd,[]),e.Za(1073742336,G.jd,G.jd,[]),e.Za(1073742336,G.pd,G.pd,[]),e.Za(1073742336,G.rd,G.rd,[]),e.Za(1073742336,G.td,G.td,[]),e.Za(1073742336,G.xd,G.xd,[]),e.Za(1073742336,G.b,G.b,[]),e.Za(1073742336,U.a,U.a,[]),e.Za(1073742336,$.m,$.m,[[2,$.s],[2,$.k]]),e.Za(1073742336,tt,tt,[]),e.Za(1073742336,l,l,[]),e.Za(256,M.p,"XSRF-TOKEN",[]),e.Za(256,M.q,"X-XSRF-TOKEN",[]),e.Za(256,G.Ad,!1,[]),e.Za(256,G.od,void 0,[]),e.Za(256,G.Vc,{nzDuration:3e3,nzAnimate:!0,nzPauseOnHover:!0,nzMaxStack:7},[]),e.Za(256,G.cd,{nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0},[]),e.Za(256,G.a,U.b,[]),e.Za(1024,$.i,function(){return[[{path:"",redirectTo:"whole"},{path:"whole",component:S},{path:"subdivision",component:R},{path:"category-area",component:V},{path:"category-top-shop",component:A}]]},[])])})}}]);