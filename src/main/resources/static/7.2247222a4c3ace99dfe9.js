(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{snhW:function(t,a,n){"use strict";n.r(a);var e=n("CcnG"),l=function(){},o=n("82da"),r=n("pMnS"),i=n("8for"),u=n("aQKG"),c=n("XKqz"),s=n("We0v"),p=n("4CI1"),d=n("H6uK"),f=n("Cz+m"),h=n("rZLr"),g=n("x6z2"),m=n("FbL/"),b=n("1jmK"),Z=n("wd/R"),y=n("LvDl"),v=function(t,a,n,e){return new(n||(n=Promise))(function(l,o){function r(t){try{u(e.next(t))}catch(t){o(t)}}function i(t){try{u(e.throw(t))}catch(t){o(t)}}function u(t){t.done?l(t.value):new n(function(a){a(t.value)}).then(r,i)}u((e=e.apply(t,a||[])).next())})},C=function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},w=function(){function t(t){this.categoryService=t,this.dateRange=[],this.platform="",this.loading=!1}return t.prototype.ngOnInit=function(){return v(this,void 0,void 0,function(){var t=this;return C(this,function(a){return this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){return t.categoryService.pagingCatView({pageNo:a,pageSize:n})},[2]})})},t.prototype.ngAfterViewInit=function(){return v(this,void 0,void 0,function(){return C(this,function(t){return this.categoryList=[{label:"B2B",value:"B2B"},{label:"\u7f51\u7edc\u96f6\u552e",value:"\u7f51\u7edc\u96f6\u552e"}],this.setChartOption(),[2]})})},t.prototype.setChartOption=function(){return v(this,void 0,void 0,function(){var t,a,n,e,l,o,r,i,u,c;return C(this,function(s){switch(s.label){case 0:return this.categoryList&&this.categoryList.length?(this.loading=!0,[4,this.getChartData()]):[2];case 1:for(t=s.sent().data,a=Object(y.groupBy)(t,"sCat1Name"),n=[],e=[{name:"\u96f6\u9500\u91cf",key:"countPercent",yAxisIndex:0,type:"bar"},{name:"\u96f6\u552e\u989d",key:"salesPercent",yAxisIndex:1,type:"bar"}],l=0;l<this.categoryList.length;l++){for(o=a[this.categoryList[l].value]||[],r=[],i=0;i<e.length;i++)r.push({name:(u=e[i]).name,yAxisIndex:u.yAxisIndex,type:u.type,data:Object(y.map)(o,u.key)});n.push({xAxis:[{type:"category",data:Object(y.map)(o,"city"),splitLine:{show:!1}}],series:r})}return c={baseOption:{timeline:{controlStyle:{showPlayBtn:!1,show:!0},data:Object(y.map)(this.categoryList,"value"),axisType:"category"},legend:{data:Object(y.map)(e,"name")},tooltip:{trigger:"axis",formatter:"{a}:{c}% <br/> {a1}:{c1}%"},calculable:!0,grid:{top:80,bottom:100},yAxis:[{type:"value",name:"\u96f6\u552e\u91cf%"},{type:"value",name:"\u96f6\u552e\u989d%"}]},options:n},this.dataChart.setOption(c),this.loading=!1,[2]}})})},t.prototype.getChartData=function(){var t=this.dateRange,a=t[1];return this.categoryService.catView({platform:this.platform||void 0,dateBegin:Z(t[0]).format("YYYY-MM")+"-01",dateEnd:Z(a).format("YYYY-MM")+"-02"})},t.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"city",title:"\u57ce\u5e02"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t}(),x=e.Pa({encapsulation:0,styles:[[""]],data:{}});function R(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var e=!0,l=t.component;return"datesChange"===a&&(e=!1!==(l.dateRange=n)&&e),"datesChange"===a&&(e=!1!==l.setChartOption()&&e),e},i.b,i.a)),e.Qa(3,638976,null,0,u.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.platform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},c.b,c.a)),e.Qa(5,114688,null,0,s.a,[p.a],{title:[0,"title"],categoryList:[1,"categoryList"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,d.b,d.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,f.a,[h.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,c.b,c.a)),e.Qa(9,114688,null,0,s.a,[p.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,g.b,g.a)),e.Qa(11,114688,null,0,m.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8",n.categoryList,n.platform,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var S=e.Na("app-region-quick-view",w,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-region-quick-view",[],null,null,null,R,x)),e.Qa(1,4308992,null,0,w,[b.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),k=function(t,a,n,e){return new(n||(n=Promise))(function(l,o){function r(t){try{u(e.next(t))}catch(t){o(t)}}function i(t){try{u(e.throw(t))}catch(t){o(t)}}function u(t){t.done?l(t.value):new n(function(a){a(t.value)}).then(r,i)}u((e=e.apply(t,a||[])).next())})},O=function(t,a){var n,e,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,e&&(l=e[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(e,o[1])).done)return l;switch(e=0,l&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,e=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=a.call(t,r)}catch(t){o=[6,t],e=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Y=function(){function t(t){this.categoryService=t,this.dateRange=[],this.platform="",this.loading=!1}return t.prototype.ngOnInit=function(){return k(this,void 0,void 0,function(){var t=this;return O(this,function(a){return this.salesVolumeConfigs=this.createColumnVolumeConfigs(),this.getSalesVolumeTableDataFn=function(a,n){return t.categoryService.pagingCatView({pageNo:a,pageSize:n})},[2]})})},t.prototype.ngAfterViewInit=function(){return k(this,void 0,void 0,function(){return O(this,function(t){return this.categoryList=[{label:"B2B",value:"B2B"},{label:"\u7f51\u7edc\u96f6\u552e",value:"\u7f51\u7edc\u96f6\u552e"}],this.setChartOption(),[2]})})},t.prototype.setChartOption=function(){return k(this,void 0,void 0,function(){return O(this,function(t){return this.categoryList&&this.categoryList.length?(this.dataChart.setOption({xAxis:{type:"category",data:["\u6c88\u9633\u5e02","\u5927\u8fde\u5e02","\u846b\u82a6\u5c9b\u5e02","\u978d\u5c71\u5e02","\u9526\u5dde\u5e02","\u8425\u53e3\u5e02","\u94c1\u5cad\u5e02","\u629a\u987a\u5e02","\u672c\u6eaa\u5e02"]},tooltip:{trigger:"axis"},yAxis:[{type:"value"}],series:[{name:"\u9500\u552e\u989d",data:[1,2,3,4,5,1,2,3,4],type:"bar"}]}),this.loading=!1,[2]):[2]})})},t.prototype.getChartData=function(){var t=this.dateRange,a=t[1];return this.categoryService.catView({platform:this.platform||void 0,dateBegin:Z(t[0]).format("YYYY-MM")+"-01",dateEnd:Z(a).format("YYYY-MM")+"-02"})},t.prototype.createColumnVolumeConfigs=function(){return[{column:"date",title:"\u65f6\u95f4",formatter:function(t){return(t.year||"")+"-"+(t.month||"")}},{column:"province",title:"\u7701"},{column:"platform",title:"\u5e73\u53f0"},{column:"sCat1Name",title:"\u4e00\u7ea7\u54c1\u7c7b"},{column:"city",title:"\u57ce\u5e02"},{column:"salesPercent",title:"\u9500\u552e\u989d\u5360\u6bd4",formatter:function(t,a){return(a||0)+"%"}}]},t}(),D=e.Pa({encapsulation:0,styles:[[""]],data:{}});function L(t){return e.lb(0,[e.hb(402653184,1,{dataChart:0}),(t()(),e.Ra(1,0,null,null,2,"div",[["layout","row"],["layout-align","end center"],["style","margin-bottom: 2em;"]],null,null,null,null,null)),(t()(),e.Ra(2,0,null,null,1,"app-range-month",[],null,[[null,"datesChange"]],function(t,a,n){var e=!0,l=t.component;return"datesChange"===a&&(e=!1!==(l.dateRange=n)&&e),"datesChange"===a&&(e=!1!==l.setChartOption()&&e),e},i.b,i.a)),e.Qa(3,638976,null,0,u.a,[],{dates:[0,"dates"]},{datesChange:"datesChange"}),(t()(),e.Ra(4,0,null,null,1,"app-common-operation",[["title","\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8"]],null,[[null,"platformChange"]],function(t,a,n){var e=!0,l=t.component;return"platformChange"===a&&(e=!1!==(l.platform=n)&&e),"platformChange"===a&&(e=!1!==l.setChartOption()&&e),e},c.b,c.a)),e.Qa(5,114688,null,0,s.a,[p.a],{title:[0,"title"],categoryList:[1,"categoryList"],platform:[2,"platform"],noExportData:[3,"noExportData"],loading:[4,"loading"]},{platformChange:"platformChange"}),(t()(),e.Ra(6,0,null,null,1,"app-data-chart",[],null,null,null,d.b,d.a)),e.Qa(7,4440064,[[1,4],["dataChart",4]],0,f.a,[h.a],{height:[0,"height"]},null),(t()(),e.Ra(8,0,null,null,1,"app-common-operation",[],null,null,null,c.b,c.a)),e.Qa(9,114688,null,0,s.a,[p.a],{noCategory:[0,"noCategory"],noPlatform:[1,"noPlatform"]},null),(t()(),e.Ra(10,0,null,null,1,"app-data-table",[],null,null,null,g.b,g.a)),e.Qa(11,114688,null,0,m.a,[],{columns:[0,"columns"],queryDataService:[1,"queryDataService"]},null)],function(t,a){var n=a.component;t(a,3,0,n.dateRange),t(a,5,0,"\u5404\u5730\u6838\u5fc3\u7535\u5546\u6307\u6807\u901f\u89c8",n.categoryList,n.platform,!0,n.loading),t(a,7,0,450),t(a,9,0,!0,!0),t(a,11,0,n.salesVolumeConfigs,n.getSalesVolumeTableDataFn)},null)}var z=e.Na("app-contrast",Y,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"app-contrast",[],null,null,null,L,D)),e.Qa(1,4308992,null,0,Y,[b.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),A=n("Ip0R"),P=n("gIcY"),q=n("t/Na"),N=n("d5Ni"),V=n("M2Lx"),Q=n("tn8F"),j=n("eDkP"),B=n("Fzqc"),E=n("4c35"),I=n("dWZg"),M=n("qAlS"),T=n("PCNd"),F=n("ZYCi"),K=function(){};n.d(a,"RegionAnalysisModuleNgFactory",function(){return G});var G=e.Oa(l,[],function(t){return e.Ya([e.Za(512,e.j,e.Ca,[[8,[o.y,o.z,o.A,o.B,o.C,o.D,o.E,r.a,S,z]],[3,e.j],e.w]),e.Za(4608,A.o,A.n,[e.t,[2,A.A]]),e.Za(4608,P.c,P.c,[]),e.Za(4608,P.m,P.m,[]),e.Za(4608,q.l,q.r,[A.d,e.A,q.p]),e.Za(4608,q.s,q.s,[q.l,q.q]),e.Za(5120,q.a,function(t){return[t,new N.a]},[q.s]),e.Za(4608,q.o,q.o,[]),e.Za(6144,q.m,null,[q.o]),e.Za(4608,q.k,q.k,[q.m]),e.Za(6144,q.b,null,[q.k]),e.Za(4608,q.g,q.n,[q.b,e.q]),e.Za(4608,q.c,q.c,[q.g]),e.Za(4608,V.c,V.c,[]),e.Za(5120,Q.zd,Q.Bd,[[3,Q.zd],Q.Ad]),e.Za(4608,A.e,A.e,[e.t]),e.Za(5120,Q.Zb,Q.yc,[[3,Q.Zb],Q.od,Q.zd,A.e]),e.Za(4608,j.d,j.d,[j.k,j.f,e.j,j.i,j.g,e.q,e.y,A.d,B.b]),e.Za(5120,j.l,j.m,[j.d]),e.Za(5120,Q.K,Q.L,[A.d,[3,Q.K]]),e.Za(4608,Q.X,Q.X,[]),e.Za(4608,Q.Sa,Q.Sa,[]),e.Za(4608,Q.Yc,Q.Yc,[j.d,e.q,e.j,e.g]),e.Za(4608,Q.ed,Q.ed,[j.d,e.q,e.j,e.g]),e.Za(4608,Q.ld,Q.ld,[[3,Q.ld]]),e.Za(4608,Q.nd,Q.nd,[j.d,Q.zd,Q.ld]),e.Za(1073742336,A.c,A.c,[]),e.Za(1073742336,P.l,P.l,[]),e.Za(1073742336,P.k,P.k,[]),e.Za(1073742336,P.e,P.e,[]),e.Za(1073742336,q.e,q.e,[]),e.Za(1073742336,q.d,q.d,[]),e.Za(1073742336,V.d,V.d,[]),e.Za(1073742336,Q.d,Q.d,[]),e.Za(1073742336,Q.Ed,Q.Ed,[]),e.Za(1073742336,Q.Dd,Q.Dd,[]),e.Za(1073742336,Q.Gd,Q.Gd,[]),e.Za(1073742336,B.a,B.a,[]),e.Za(1073742336,E.c,E.c,[]),e.Za(1073742336,I.b,I.b,[]),e.Za(1073742336,M.a,M.a,[]),e.Za(1073742336,j.h,j.h,[]),e.Za(1073742336,Q.g,Q.g,[]),e.Za(1073742336,Q.Za,Q.Za,[]),e.Za(1073742336,Q.q,Q.q,[]),e.Za(1073742336,Q.v,Q.v,[]),e.Za(1073742336,Q.x,Q.x,[]),e.Za(1073742336,Q.G,Q.G,[]),e.Za(1073742336,Q.N,Q.N,[]),e.Za(1073742336,Q.I,Q.I,[]),e.Za(1073742336,Q.P,Q.P,[]),e.Za(1073742336,Q.R,Q.R,[]),e.Za(1073742336,Q.Y,Q.Y,[]),e.Za(1073742336,Q.Ca,Q.Ca,[]),e.Za(1073742336,Q.Ea,Q.Ea,[]),e.Za(1073742336,Q.Ha,Q.Ha,[]),e.Za(1073742336,Q.Ka,Q.Ka,[]),e.Za(1073742336,Q.Oa,Q.Oa,[]),e.Za(1073742336,Q.Xa,Q.Xa,[]),e.Za(1073742336,Q.Qa,Q.Qa,[]),e.Za(1073742336,Q.bb,Q.bb,[]),e.Za(1073742336,Q.db,Q.db,[]),e.Za(1073742336,Q.fb,Q.fb,[]),e.Za(1073742336,Q.hb,Q.hb,[]),e.Za(1073742336,Q.jb,Q.jb,[]),e.Za(1073742336,Q.lb,Q.lb,[]),e.Za(1073742336,Q.sb,Q.sb,[]),e.Za(1073742336,Q.xb,Q.xb,[]),e.Za(1073742336,Q.Ab,Q.Ab,[]),e.Za(1073742336,Q.Db,Q.Db,[]),e.Za(1073742336,Q.Hb,Q.Hb,[]),e.Za(1073742336,Q.Lb,Q.Lb,[]),e.Za(1073742336,Q.Nb,Q.Nb,[]),e.Za(1073742336,Q.Qb,Q.Qb,[]),e.Za(1073742336,Q.ac,Q.ac,[]),e.Za(1073742336,Q.Yb,Q.Yb,[]),e.Za(1073742336,Q.uc,Q.uc,[]),e.Za(1073742336,Q.wc,Q.wc,[]),e.Za(1073742336,Q.Fc,Q.Fc,[]),e.Za(1073742336,Q.Jc,Q.Jc,[]),e.Za(1073742336,Q.Nc,Q.Nc,[]),e.Za(1073742336,Q.Rc,Q.Rc,[]),e.Za(1073742336,Q.Tc,Q.Tc,[]),e.Za(1073742336,Q.Zc,Q.Zc,[]),e.Za(1073742336,Q.fd,Q.fd,[]),e.Za(1073742336,Q.hd,Q.hd,[]),e.Za(1073742336,Q.jd,Q.jd,[]),e.Za(1073742336,Q.pd,Q.pd,[]),e.Za(1073742336,Q.rd,Q.rd,[]),e.Za(1073742336,Q.td,Q.td,[]),e.Za(1073742336,Q.xd,Q.xd,[]),e.Za(1073742336,Q.b,Q.b,[]),e.Za(1073742336,T.a,T.a,[]),e.Za(1073742336,F.m,F.m,[[2,F.s],[2,F.k]]),e.Za(1073742336,K,K,[]),e.Za(1073742336,l,l,[]),e.Za(256,q.p,"XSRF-TOKEN",[]),e.Za(256,q.q,"X-XSRF-TOKEN",[]),e.Za(256,Q.Ad,!1,[]),e.Za(256,Q.od,void 0,[]),e.Za(256,Q.Vc,{nzDuration:3e3,nzAnimate:!0,nzPauseOnHover:!0,nzMaxStack:7},[]),e.Za(256,Q.cd,{nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0},[]),e.Za(256,Q.a,T.b,[]),e.Za(1024,F.i,function(){return[[{path:"",redirectTo:"quick-view"},{path:"quick-view",component:w},{path:"contrast",component:Y}]]},[])])})}}]);